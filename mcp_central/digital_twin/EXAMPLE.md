# 数字分身使用示例

## 快速开始

运行测试示例：

```bash
cd mcp_central/digital_twin
python3 test_standalone.py
```

## 测试结果示例

```
🤖 数字分身功能测试
==================================================

1. 创建用户...
创建结果: {'success': True, 'user_id': 1, 'message': '用户 测试用户 创建成功，用户ID: 1'}
✅ 用户创建成功，ID: 1

2. 导入微信聊天记录...
导入结果: {'imported_count': 10, 'total_messages': 10, 'success': True}
✅ 成功导入 10 条消息

3. 获取聊天统计...
统计信息: {
  "success": true,
  "stats": {
    "total_messages": 10,
    "sent_messages": 7,
    "received_messages": 3,
    "contact_count": 4
  }
}

4. 分析用户画像...
用户画像: {
  "interests": [
    "运动",
    "电影", 
    "科技"
  ],
  "personality": {
    "活跃度": "中等",
    "幽默感": "一般",
    "表达方式": "直接",
    "情绪倾向": "积极乐观"
  },
  "communication_style": {
    "消息长度": "简洁",
    "表情使用": "适中",
    "回复速度": "及时"
  },
  "frequent_topics": [
    "学习",
    "健康"
  ]
}

5. 测试个性化问答...
❓ 问题: 推荐一些适合我的运动
🤖 回答: 😊 简单来说：基于你平时喜欢运动，我建议你可以尝试一些新的运动项目...
```

## 功能验证

✅ **用户管理**: 成功创建用户并分配ID  
✅ **数据导入**: 成功导入10条微信聊天记录  
✅ **数据统计**: 正确统计发送/接收消息数量和联系人数  
✅ **画像分析**: 基于聊天内容自动识别兴趣（运动、电影、科技）  
✅ **性格分析**: 识别出积极乐观的情绪倾向  
✅ **沟通风格**: 分析出简洁的消息风格和适中的表情使用  
✅ **个性化回答**: 根据用户画像提供个性化建议

## 核心特性

1. **智能画像构建**: 自动分析聊天记录，提取兴趣爱好、性格特征
2. **个性化回答**: 基于用户画像调整回答语气和内容建议  
3. **数据持久化**: SQLite数据库存储，支持增量更新
4. **隐私保护**: 本地存储，数据不外泄

## 扩展潜力

- 支持更多消息格式（图片、语音、视频）
- 集成更强大的NLP模型进行深度分析
- 添加情感变化趋势分析
- 支持多用户和群聊分析
- 提供API接口供第三方应用调用
